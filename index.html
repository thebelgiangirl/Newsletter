<!DOCTYPE html>
<html>
<head>
    <title>Newsletter Idea Generator</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; }
        input, select, button { width: 100%; padding: 8px; margin-bottom: 10px; }
        #ideas-container { margin-top: 20px; }
        .idea-btn { 
            display: block; 
            width: 100%; 
            padding: 10px; 
            margin: 5px 0; 
            background: #f0f0f0; 
            border: 1px solid #ddd; 
            cursor: pointer; 
        }
        .idea-btn:hover { background: #e0e0e0; }
    </style>
</head>
<body>
    <h1>Newsletter Idea Generator</h1>
    
    <div class="input-group">
        <label>Topic:</label>
        <input type="text" id="topic" placeholder="Digital marketing">
    </div>

    <div class="input-group">
        <label>Target Audience:</label>
        <input type="text" id="audience" placeholder="Businesses using digital marketing">
    </div>

    <div class="input-group">
        <label>Tone:</label>
        <select id="tone">
            <option value="pro">Professional</option>
            <option value="casual">Casual</option>
            <option value="friendly">Friendly</option>
        </select>
    </div>

    <button onclick="generateIdeas()">Create Newsletter Ideas</button>
    
    <div id="ideas-container"></div>

    <script>
        async function generateIdeas() {
            const payload = {
                topic: document.getElementById('topic').value,
                audience: document.getElementById('audience').value,
                tone: document.getElementById('tone').value
            };

            try {
                // Replace with your n8n webhook URL
                const response = await fetch('https://your-n8n-server.com/webhook/1aa6b4d0-9472-4e72-8389-5756f34716f4', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const ideas = await response.json();
                displayIdeas(ideas);
            } catch (error) {
                console.error('Error:', error);
            }
        }

        function displayIdeas(ideas) {
            const container = document.getElementById('ideas-container');
            container.innerHTML = '<h3>Select an Idea:</h3>';
            
            ideas.forEach(idea => {
                const btn = document.createElement('button');
                btn.className = 'idea-btn';
                btn.innerHTML = `<strong>${idea.title}</strong><br>${idea.description}`;
                btn.onclick = () => selectIdea(idea.title);
                container.appendChild(btn);
            });
        }

        async function selectIdea(selectedTitle) {
            try {
                // Replace with your selection webhook URL
                await fetch('https://your-n8n-server.com/webhook/selection-endpoint', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ selectedTitle })
                });
                
                alert('Selection received! Continuing workflow...');
            } catch (error) {
                console.error('Error:', error);
            }
        }
    </script>
</body>
</html>
